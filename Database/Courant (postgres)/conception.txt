CREATE TABLE mouvement_courant(
   id_mouvement SERIAL,
   id_personne INTEGER NOT NULL,
   montant_entrer NUMERIC(15,5)   NOT NULL,
   montant_sortie NUMERIC(15,5)   NOT NULL,
   date_mouvement TIMESTAMP NOT NULL,
   PRIMARY KEY(id_mouvement)
);

CREATE TABLE direction(
   id SERIAL,
   libelle VARCHAR(50) ,
   niveau INTEGER,
   PRIMARY KEY(id)
);

CREATE TABLE action_role(
   id SERIAL,
   nom_table VARCHAR(100) ,
   action INTEGER,
   role INTEGER,
   PRIMARY KEY(id)
);

CREATE TABLE mouvement_courant_valide(
   id_mouvement SERIAL,
   id_mouvement_1 INTEGER NOT NULL,
   PRIMARY KEY(id_mouvement),
   UNIQUE(id_mouvement_1),
   FOREIGN KEY(id_mouvement_1) REFERENCES mouvement_courant(id_mouvement)
);

CREATE TABLE utilisateur(
   id SERIAL,
   login VARCHAR(50) ,
   mdp VARCHAR(50) ,
   role INTEGER NOT NULL,
   id_1 INTEGER NOT NULL,
   PRIMARY KEY(id),
   FOREIGN KEY(id_1) REFERENCES direction(id)
);
